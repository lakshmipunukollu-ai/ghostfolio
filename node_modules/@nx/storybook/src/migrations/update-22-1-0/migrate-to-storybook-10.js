"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = migrateToStorybook10;
const output_1 = require("nx/src/utils/output");
const migrate_10_1 = require("../../generators/migrate-10/migrate-10");
async function migrateToStorybook10(tree) {
    output_1.output.log({
        title: 'Migrating Storybook to v10',
        bodyLines: [
            `ðŸš€ This migration will update your Storybook configuration to v10.`,
            `It will call the @nx/storybook:migrate-10 generator for you.`,
            `You can read more about the migration and how this generator works here:`,
            `https://nx.dev/nx-api/storybook/generators/migrate-10`,
        ],
    });
    await (0, migrate_10_1.default)(tree, {
        autoAcceptAllPrompts: true,
    });
    return [
        `Storybook 10 requires Storybook Configs to use ESM.`,
        `We created 'tools/ai-migrations/MIGRATE_STORYBOOK_10.md' with instructions for an AI Agent to convert CJS Storybook Configs to ESM in your workspace.`,
    ];
}
